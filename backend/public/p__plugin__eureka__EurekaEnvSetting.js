(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"14J3":function(e,a,t){"use strict";t("cIOH"),t("1GLa")},BMrR:function(e,a,t){"use strict";var l=t("qrJ5");a["a"]=l["a"]},fLtm:function(e,a,t){"use strict";t.r(a);t("+L6B");var l=t("2/Rp"),n=(t("7Kak"),t("9yH6")),r=(t("BoS7"),t("Sdc0")),i=(t("5NDa"),t("5rEg")),o=(t("14J3"),t("BMrR")),c=(t("OaEy"),t("2fM7")),u=(t("jCWc"),t("kPKH")),m=(t("/xke"),t("TeRw")),d=(t("y8nQ"),t("Vl3Y")),s=t("ODXe"),v=t("q1tI"),p=t.n(v),E=t("9XV7"),g=t("gLBg"),h=t("Hx5s"),b=t("wlus"),k=t("FfOG");a["default"]=()=>{var e=d["a"].useForm(),a=Object(s["a"])(e,1),t=a[0],y=Object(v["useState"])(),f=Object(s["a"])(y,2),I=f[0],S=f[1],w=Object(E["d"])(g["b"].apiRoutes.pluginEnvSettingList({pluginName:"Eureka"}),{manual:!1,refreshOnWindowFocus:!1,onSuccess:(e,a)=>(S(e.result),e)}),O=Object(E["d"])(g["b"].apiRoutes.envList(),{manual:!1,refreshOnWindowFocus:!1}),x=Object(E["d"])(e=>(console.log(e),g["b"].apiRoutes.pluginEnvSettingSave(e)),{manual:!0,refreshOnWindowFocus:!1,onSuccess:(e,a)=>(1===e.code?(m["a"].success({message:"Eureka\u73af\u5883\u914d\u7f6e",description:"\u6210\u529f"}),k["b"].replace(g["b"].pageRoutes.pluginEurekaIndex)):m["a"].error({message:"\u8bf7\u6c42\u9519\u8bef ".concat(e.code,": ").concat(g["b"].apiRoutes.pluginEnvSettingSave(a[0]).url),description:e.desc}),e)});return I?p.a.createElement(h["b"],null,p.a.createElement(d["a"],{form:t,labelCol:{span:4},wrapperCol:{span:16},layout:"horizontal",initialValues:null===w||void 0===w?void 0:w.data,onFinish:e=>{e&&(console.log("project submit payload : ",e),x.run({pluginEnvSettingList:e.result}))}},p.a.createElement(d["a"].List,{name:"result"},(e,a)=>{var l,m,s=a.add,v=a.remove;return p.a.createElement("div",null,p.a.createElement("h2",null,"\u9009\u62e9\u73af\u5883"),p.a.createElement(o["a"],null,p.a.createElement(u["a"],{xl:4,style:{textAlign:"right",lineHeight:"24px"}}),p.a.createElement(u["a"],{xl:16},p.a.createElement(c["a"],{mode:"multiple",style:{minWidth:"100%"},value:null===I||void 0===I?void 0:I.map(e=>e.envId),onSelect:(e,a)=>{s(),I.push({envId:a.value,envName:a.children,pluginName:"Eureka",defaultShow:!1}),t.setFieldsValue({result:I})}},null===(l=O.data)||void 0===l||null===(m=l.result)||void 0===m?void 0:m.map(e=>{var a;return p.a.createElement(c["a"].Option,{disabled:-1!==(null===I||void 0===I||null===(a=I.map(e=>e.envId))||void 0===a?void 0:a.indexOf(e.id)),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.code,type:e},null===e||void 0===e?void 0:e.name)})))),e.map((e,a)=>{var t,l,c;return e.record=I[a],p.a.createElement("div",{key:a},p.a.createElement(o["a"],{style:{marginBottom:"24px",paddingTop:"30px"}},p.a.createElement(u["a"],{xl:4},p.a.createElement("h3",null,"\xa0\xa0\xa0\xa0",null===e||void 0===e||null===(t=e.record)||void 0===t?void 0:t.envName)),p.a.createElement(u["a"],{xl:16,style:{textAlign:"right"}},p.a.createElement(b["a"],{style:{fontSize:"24px"},className:"dynamic-delete-button",onClick:()=>{v(e.name),I.splice(e.name,1)}}))),p.a.createElement(d["a"].Item,{name:[e.name,"envId"],noStyle:!0},p.a.createElement(i["a"],{type:"hidden",value:null===e||void 0===e||null===(l=e.record)||void 0===l?void 0:l.envId})),p.a.createElement(d["a"].Item,{name:[e.name,"envName"],noStyle:!0},p.a.createElement(i["a"],{type:"hidden",value:null===e||void 0===e||null===(c=e.record)||void 0===c?void 0:c.envName})),p.a.createElement(d["a"].Item,{label:"\u9ed8\u8ba4\u73af\u5883",name:[e.name,"defaultShow"],valuePropName:"checked"},p.a.createElement(r["a"],{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u5173\u95ed"})),p.a.createElement(d["a"].Item,{name:[e.name,"eurekaUrl"],label:"\u8bf7\u6c42\u5730\u5740"},p.a.createElement(i["a"],{placeholder:"Eureka URL"})),p.a.createElement(d["a"].Item,{name:[e.name,"eurekaAuthType"],label:"\u8ba4\u8bc1\u65b9\u5f0f"},p.a.createElement(n["a"].Group,null,p.a.createElement(n["a"],{value:"none"},"\u65e0"),p.a.createElement(n["a"],{value:"Basic"},"Basic"))),p.a.createElement(d["a"].Item,{name:[e.name,"eurekaUsername"],label:"\u7528\u6237\u540d"},p.a.createElement(i["a"],{placeholder:"Eureka Username"})),p.a.createElement(d["a"].Item,{name:[e.name,"eurekaPassword"],label:"\u5bc6\u7801"},p.a.createElement(i["a"],{placeholder:"Eureka Password"})))}))}),p.a.createElement(d["a"].Item,{label:" ",colon:!1,style:{marginTop:"10vh"}},p.a.createElement(l["a"],{type:"primary",htmlType:"submit",block:!0,loading:x.loading||x.loading},"\u63d0\u4ea4")))):p.a.createElement(h["c"],null)}},jCWc:function(e,a,t){"use strict";t("cIOH"),t("1GLa")},kPKH:function(e,a,t){"use strict";var l=t("/kpp");a["a"]=l["a"]}}]);